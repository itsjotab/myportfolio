{"ast":null,"code":"/**\n * Cache to store generated match functions\n * @type {Object}\n */\nlet pMatchFunctionCache = {};\n\nfunction compare_tagname(tag1, tag2) {\n  if (!tag1) {\n    return !tag2;\n  }\n\n  if (!tag2) {\n    return !tag1;\n  }\n\n  return tag1.toLowerCase() === tag2.toLowerCase();\n}\n/**\n * Function cache\n */\n\n\nconst functionCache = {\n  f145(el, tagName, classes) {\n    'use strict';\n\n    tagName = tagName || '';\n    classes = classes || [];\n\n    if (el.id !== tagName.substr(1)) {\n      return false;\n    }\n\n    for (let cls = classes, i = 0; i < cls.length; i++) {\n      if (el.classNames.indexOf(cls[i]) === -1) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  f45(el, tagName, classes) {\n    'use strict';\n\n    tagName = tagName || '';\n    classes = classes || [];\n\n    for (let cls = classes, i = 0; i < cls.length; i++) {\n      if (el.classNames.indexOf(cls[i]) === -1) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  f15(el, tagName) {\n    'use strict';\n\n    tagName = tagName || '';\n\n    if (el.id !== tagName.substr(1)) {\n      return false;\n    }\n\n    return true;\n  },\n\n  f1(el, tagName) {\n    'use strict';\n\n    tagName = tagName || '';\n\n    if (el.id !== tagName.substr(1)) {\n      return false;\n    }\n  },\n\n  f5() {\n    'use strict';\n\n    return true;\n  },\n\n  f55(el, tagName, classes, attr_key) {\n    'use strict';\n\n    tagName = tagName || '';\n    classes = classes || [];\n    attr_key = attr_key || '';\n    const attrs = el.attributes;\n    return attrs.hasOwnProperty(attr_key);\n  },\n\n  f245(el, tagName, classes, attr_key, value) {\n    'use strict';\n\n    tagName = tagName || '';\n    classes = classes || [];\n    attr_key = (attr_key || '').toLowerCase();\n    value = value || '';\n    const attrs = el.attributes;\n    return Object.keys(attrs).some(key => {\n      const val = attrs[key];\n      return key.toLowerCase() === attr_key && val === value;\n    }); // for (let cls = classes, i = 0; i < cls.length; i++) {if (el.classNames.indexOf(cls[i]) === -1){ return false;}}\n    // return true;\n  },\n\n  f25(el, tagName, classes, attr_key, value) {\n    'use strict';\n\n    tagName = tagName || '';\n    classes = classes || [];\n    attr_key = (attr_key || '').toLowerCase();\n    value = value || '';\n    const attrs = el.attributes;\n    return Object.keys(attrs).some(key => {\n      const val = attrs[key];\n      return key.toLowerCase() === attr_key && val === value;\n    }); // return true;\n  },\n\n  f2(el, tagName, classes, attr_key, value) {\n    'use strict';\n\n    tagName = tagName || '';\n    classes = classes || [];\n    attr_key = (attr_key || '').toLowerCase();\n    value = value || '';\n    const attrs = el.attributes;\n    return Object.keys(attrs).some(key => {\n      const val = attrs[key];\n      return key.toLowerCase() === attr_key && val === value;\n    });\n  },\n\n  f345(el, tagName, classes) {\n    'use strict';\n\n    tagName = tagName || '';\n    classes = classes || [];\n\n    if (!compare_tagname(el.tagName, tagName)) {\n      return false;\n    }\n\n    for (let cls = classes, i = 0; i < cls.length; i++) {\n      if (el.classNames.indexOf(cls[i]) === -1) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  f35(el, tagName) {\n    'use strict';\n\n    tagName = tagName || '';\n    return compare_tagname(el.tagName, tagName);\n  },\n\n  f3(el, tagName) {\n    'use strict';\n\n    tagName = tagName || ''; // if (el.tagName !== tagName) {\n    // \treturn false;\n    // }\n\n    return compare_tagname(el.tagName, tagName);\n  }\n\n};\n/**\n * Matcher class to make CSS match\n *\n * @class Matcher\n */\n\nexport default class Matcher {\n  /**\n   * Creates an instance of Matcher.\n   * @param {string} selector\n   *\n   * @memberof Matcher\n   */\n  constructor(selector) {\n    this.nextMatch = 0;\n    this.matchers = selector.split(' ').map(matcher => {\n      if (pMatchFunctionCache[matcher]) {\n        return pMatchFunctionCache[matcher];\n      }\n\n      const parts = matcher.split('.');\n      const tagName = parts[0];\n      const classes = parts.slice(1).sort(); // let source = '\"use strict\";';\n\n      let function_name = 'f';\n      let attr_key = '';\n      let value = '';\n\n      if (tagName && tagName !== '*') {\n        if (tagName.startsWith('#')) {\n          // source += 'if (el.id != ' + JSON.stringify(tagName.substr(1)) + ') return false;';// 1\n          function_name += '1';\n        } else {\n          // https://github.com/taoqf/node-html-parser/issues/86\n          // const reg = /\\[\\s*([\\w-]+)(\\s*=\\s*(((?<quote>'|\")\\s*(.*)(\\k<quote>))|(\\S*)))?\\s*\\]/.exec(tagName);\n          // `[a-b]`,`[ a-b ]`,`[a-b=c]`, `[a-b=c'd]`,`[a-b='c\\' d\"e ']`,`[ a-b = 'c\\' d\"e ' ]`,`[a-b=\"c' d\\\"e \" ]`,`[ a-b = \"c' d\\\"e \" ]`\n          const reg = /\\[\\s*([\\w-]+)(\\s*=\\s*(('\\s*(.*)'|\"\\s*(.*)\")|(\\S*)))?\\s*\\]/.exec(tagName);\n\n          if (reg) {\n            attr_key = reg[1];\n            value = reg[5] || reg[6] || reg[7]; // source += `let attrs = el.attributes;for (let key in attrs){const val = attrs[key]; if (key == \"${attr_key}\" && val == \"${value}\"){return true;}} return false;`;// 2\n\n            function_name += '2';\n          } else {\n            // source += 'if (el.tagName != ' + JSON.stringify(tagName) + ') return false;';// 3\n            function_name += '3';\n          }\n        }\n      }\n\n      if (classes.length > 0) {\n        // source += 'for (let cls = ' + JSON.stringify(classes) + ', i = 0; i < cls.length; i++) if (el.classNames.indexOf(cls[i]) === -1) return false;';// 4\n        function_name += '4';\n      } // source += 'return true;';// 5\n\n\n      function_name += '5';\n      const obj = {\n        func: functionCache[function_name],\n        tagName: tagName || '',\n        classes: classes || '',\n        attr_key: attr_key || '',\n        value: value || ''\n      }; // source = source || '';\n\n      return pMatchFunctionCache[matcher] = obj;\n    });\n  }\n  /**\n   * Trying to advance match pointer\n   * @param  {HTMLElement} el element to make the match\n   * @return {bool}           true when pointer advanced.\n   */\n\n\n  advance(el) {\n    if (this.nextMatch < this.matchers.length && this.matchers[this.nextMatch].func(el, this.matchers[this.nextMatch].tagName, this.matchers[this.nextMatch].classes, this.matchers[this.nextMatch].attr_key, this.matchers[this.nextMatch].value)) {\n      this.nextMatch++;\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Rewind the match pointer\n   */\n\n\n  rewind() {\n    this.nextMatch--;\n  }\n  /**\n   * Trying to determine if match made.\n   * @return {bool} true when the match is made\n   */\n\n\n  get matched() {\n    return this.nextMatch === this.matchers.length;\n  }\n  /**\n   * Rest match pointer.\n   * @return {[type]} [description]\n   */\n\n\n  reset() {\n    this.nextMatch = 0;\n  }\n  /**\n   * flush cache to free memory\n   */\n\n\n  flushCache() {\n    pMatchFunctionCache = {};\n  }\n\n}","map":{"version":3,"names":["pMatchFunctionCache","compare_tagname","tag1","tag2","toLowerCase","functionCache","f145","el","tagName","classes","id","substr","cls","i","length","classNames","indexOf","f45","f15","f1","f5","f55","attr_key","attrs","attributes","hasOwnProperty","f245","value","Object","keys","some","key","val","f25","f2","f345","f35","f3","Matcher","constructor","selector","nextMatch","matchers","split","map","matcher","parts","slice","sort","function_name","startsWith","reg","exec","obj","func","advance","rewind","matched","reset","flushCache"],"sources":["/Users/itsjotab/portfolio/node_modules/node-html-parser/dist/esm/matcher.js"],"sourcesContent":["/**\n * Cache to store generated match functions\n * @type {Object}\n */\nlet pMatchFunctionCache = {};\nfunction compare_tagname(tag1, tag2) {\n    if (!tag1) {\n        return !tag2;\n    }\n    if (!tag2) {\n        return !tag1;\n    }\n    return tag1.toLowerCase() === tag2.toLowerCase();\n}\n/**\n * Function cache\n */\nconst functionCache = {\n    f145(el, tagName, classes) {\n        'use strict';\n        tagName = tagName || '';\n        classes = classes || [];\n        if (el.id !== tagName.substr(1)) {\n            return false;\n        }\n        for (let cls = classes, i = 0; i < cls.length; i++) {\n            if (el.classNames.indexOf(cls[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    },\n    f45(el, tagName, classes) {\n        'use strict';\n        tagName = tagName || '';\n        classes = classes || [];\n        for (let cls = classes, i = 0; i < cls.length; i++) {\n            if (el.classNames.indexOf(cls[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    },\n    f15(el, tagName) {\n        'use strict';\n        tagName = tagName || '';\n        if (el.id !== tagName.substr(1)) {\n            return false;\n        }\n        return true;\n    },\n    f1(el, tagName) {\n        'use strict';\n        tagName = tagName || '';\n        if (el.id !== tagName.substr(1)) {\n            return false;\n        }\n    },\n    f5() {\n        'use strict';\n        return true;\n    },\n    f55(el, tagName, classes, attr_key) {\n        'use strict';\n        tagName = tagName || '';\n        classes = classes || [];\n        attr_key = attr_key || '';\n        const attrs = el.attributes;\n        return attrs.hasOwnProperty(attr_key);\n    },\n    f245(el, tagName, classes, attr_key, value) {\n        'use strict';\n        tagName = tagName || '';\n        classes = classes || [];\n        attr_key = (attr_key || '').toLowerCase();\n        value = value || '';\n        const attrs = el.attributes;\n        return Object.keys(attrs).some((key) => {\n            const val = attrs[key];\n            return key.toLowerCase() === attr_key && val === value;\n        });\n        // for (let cls = classes, i = 0; i < cls.length; i++) {if (el.classNames.indexOf(cls[i]) === -1){ return false;}}\n        // return true;\n    },\n    f25(el, tagName, classes, attr_key, value) {\n        'use strict';\n        tagName = tagName || '';\n        classes = classes || [];\n        attr_key = (attr_key || '').toLowerCase();\n        value = value || '';\n        const attrs = el.attributes;\n        return Object.keys(attrs).some((key) => {\n            const val = attrs[key];\n            return key.toLowerCase() === attr_key && val === value;\n        });\n        // return true;\n    },\n    f2(el, tagName, classes, attr_key, value) {\n        'use strict';\n        tagName = tagName || '';\n        classes = classes || [];\n        attr_key = (attr_key || '').toLowerCase();\n        value = value || '';\n        const attrs = el.attributes;\n        return Object.keys(attrs).some((key) => {\n            const val = attrs[key];\n            return key.toLowerCase() === attr_key && val === value;\n        });\n    },\n    f345(el, tagName, classes) {\n        'use strict';\n        tagName = tagName || '';\n        classes = classes || [];\n        if (!compare_tagname(el.tagName, tagName)) {\n            return false;\n        }\n        for (let cls = classes, i = 0; i < cls.length; i++) {\n            if (el.classNames.indexOf(cls[i]) === -1) {\n                return false;\n            }\n        }\n        return true;\n    },\n    f35(el, tagName) {\n        'use strict';\n        tagName = tagName || '';\n        return compare_tagname(el.tagName, tagName);\n    },\n    f3(el, tagName) {\n        'use strict';\n        tagName = tagName || '';\n        // if (el.tagName !== tagName) {\n        // \treturn false;\n        // }\n        return compare_tagname(el.tagName, tagName);\n    }\n};\n/**\n * Matcher class to make CSS match\n *\n * @class Matcher\n */\nexport default class Matcher {\n    /**\n     * Creates an instance of Matcher.\n     * @param {string} selector\n     *\n     * @memberof Matcher\n     */\n    constructor(selector) {\n        this.nextMatch = 0;\n        this.matchers = selector.split(' ').map((matcher) => {\n            if (pMatchFunctionCache[matcher]) {\n                return pMatchFunctionCache[matcher];\n            }\n            const parts = matcher.split('.');\n            const tagName = parts[0];\n            const classes = parts.slice(1).sort();\n            // let source = '\"use strict\";';\n            let function_name = 'f';\n            let attr_key = '';\n            let value = '';\n            if (tagName && tagName !== '*') {\n                if (tagName.startsWith('#')) {\n                    // source += 'if (el.id != ' + JSON.stringify(tagName.substr(1)) + ') return false;';// 1\n                    function_name += '1';\n                }\n                else {\n                    // https://github.com/taoqf/node-html-parser/issues/86\n                    // const reg = /\\[\\s*([\\w-]+)(\\s*=\\s*(((?<quote>'|\")\\s*(.*)(\\k<quote>))|(\\S*)))?\\s*\\]/.exec(tagName);\n                    // `[a-b]`,`[ a-b ]`,`[a-b=c]`, `[a-b=c'd]`,`[a-b='c\\' d\"e ']`,`[ a-b = 'c\\' d\"e ' ]`,`[a-b=\"c' d\\\"e \" ]`,`[ a-b = \"c' d\\\"e \" ]`\n                    const reg = /\\[\\s*([\\w-]+)(\\s*=\\s*(('\\s*(.*)'|\"\\s*(.*)\")|(\\S*)))?\\s*\\]/.exec(tagName);\n                    if (reg) {\n                        attr_key = reg[1];\n                        value = reg[5] || reg[6] || reg[7];\n                        // source += `let attrs = el.attributes;for (let key in attrs){const val = attrs[key]; if (key == \"${attr_key}\" && val == \"${value}\"){return true;}} return false;`;// 2\n                        function_name += '2';\n                    }\n                    else {\n                        // source += 'if (el.tagName != ' + JSON.stringify(tagName) + ') return false;';// 3\n                        function_name += '3';\n                    }\n                }\n            }\n            if (classes.length > 0) {\n                // source += 'for (let cls = ' + JSON.stringify(classes) + ', i = 0; i < cls.length; i++) if (el.classNames.indexOf(cls[i]) === -1) return false;';// 4\n                function_name += '4';\n            }\n            // source += 'return true;';// 5\n            function_name += '5';\n            const obj = {\n                func: functionCache[function_name],\n                tagName: tagName || '',\n                classes: classes || '',\n                attr_key: attr_key || '',\n                value: value || ''\n            };\n            // source = source || '';\n            return (pMatchFunctionCache[matcher] = obj);\n        });\n    }\n    /**\n     * Trying to advance match pointer\n     * @param  {HTMLElement} el element to make the match\n     * @return {bool}           true when pointer advanced.\n     */\n    advance(el) {\n        if (this.nextMatch < this.matchers.length &&\n            this.matchers[this.nextMatch].func(el, this.matchers[this.nextMatch].tagName, this.matchers[this.nextMatch].classes, this.matchers[this.nextMatch].attr_key, this.matchers[this.nextMatch].value)) {\n            this.nextMatch++;\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Rewind the match pointer\n     */\n    rewind() {\n        this.nextMatch--;\n    }\n    /**\n     * Trying to determine if match made.\n     * @return {bool} true when the match is made\n     */\n    get matched() {\n        return this.nextMatch === this.matchers.length;\n    }\n    /**\n     * Rest match pointer.\n     * @return {[type]} [description]\n     */\n    reset() {\n        this.nextMatch = 0;\n    }\n    /**\n     * flush cache to free memory\n     */\n    flushCache() {\n        pMatchFunctionCache = {};\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}